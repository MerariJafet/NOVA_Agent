name: CI

on:
  push:
      branches:
            - main
                  - master
                        - fix/ci-release-v1.0.0
                          pull_request:
                              branches:
                                    - main
                                          - master
                                                - fix/ci-release-v1.0.0

                                                jobs:
                                                  test:
                                                      runs-on: ubuntu-latest
                                                          steps:
                                                                - uses: actions/checkout@v4

                                                                      - name: Set up Python
                                                                              uses: actions/setup-python@v5
                                                                                      with:
                                                                                                python-version: '3.12'
                                                                                                          cache: 'pip'
                                                                                                          
                                                                                                                - name: Install dependencies
                                                                                                                        run: |
                                                                                                                                  python -m pip install --upgrade pip
                                                                                                                                            pip install -r requirements.txt
                                                                                                                                            
                                                                                                                                                  - name: Check formatting with black
                                                                                                                                                          run: black --check .
                                                                                                                                                          
                                                                                                                                                                - name: Lint with ruff
                                                                                                                                                                        run: ruff check .
                                                                                                                                                                        
                                                                                                                                                                              - name: Run tests with pytest
                                                                                                                                                                                      run: pytest tests/test_imports.py tests/test_config_load.py tests/test_api_health.py -v
                                                                                                                                                                                      
